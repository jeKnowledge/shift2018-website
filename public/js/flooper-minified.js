(function webpackUniversalModuleDefinition(root,factory){if(typeof exports==='object'&&typeof module==='object'){module.exports=factory()}else if(typeof define==='function'&&define.amd){define("flooper",[],factory)}else if(typeof exports==='object'){exports["flooper"]=factory()}else{root["flooper"]=factory()}})(this,function(){return (function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId]){return installedModules[moduleId].exports}var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:false };modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.loaded=true;return module.exports;}__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.p="";return __webpack_require__(0);})([(function(module,exports,__webpack_require__){'use strict';var _createClass=__webpack_require__(1)['default'];var _classCallCheck=__webpack_require__(5)['default'];var _extends=__webpack_require__(6)['default'];var _Object$keys=__webpack_require__(21)['default'];var Flooper=(function(){_createClass(Flooper,null,[{key:'getDataOptions',value:function getDataOptions(options){return!options||typeof JSON.parse!=='function'?{}:JSON.parse(options)}},{key:'vendorTransformProp',value:(function(){var testEl=document.createElement('div');if(testEl.style.transform==null){var vendors=['Webkit','Moz','ms'];for(var vendor in vendors){if(testEl.style[vendors[vendor]+'Transform']!==undefined){return vendors[vendor]+'Transform'}}}return 'transform'})(),enumerable:true}]);function Flooper(flooper){var _this=this;var options=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];_classCallCheck(this,Flooper);var OPTS_ATTR='data-flooper-options';var DEFAULTS={autoPlay:true,bufferSize:10,name:'flooperInstance',flooperItemSelector:'.js-flooper-item',speed:1,onFloop:function onFloop(){},onSlowmotion:function onSlowmotion(){},onPause:function onPause(){},onStart:function onStart(){},onPlay:function onPlay(){}};this.flooper='string'===typeof flooper?document.querySelector(flooper):flooper;if('undefined'===typeof this.flooper){throw new Error("There is no specific flooper element.")}this.options=_extends({},DEFAULTS,Flooper.getDataOptions(this.flooper.getAttribute(OPTS_ATTR)),options);this.uid=this.options.name+'-'+Date.now();this.flooperContainer=this.flooper.parentElement;this.flooperItems=[].slice.call(this.flooper.querySelectorAll(this.options.flooperItemSelector));this.bufferSize=this.options.bufferSize;this.speed=this.options.speed;this.left=0;this.curBlock=0;this.flooperItemsCount=this.flooperItems.length;this.order=this.flooperItemsCount+1;this.lastKnownSpeed=this.speed;this.init=this.init.bind(this);this.checkBlocks=this.checkBlocks.bind(this);this.update=this.update.bind(this);this.start=this.start.bind(this);this.play=this.play.bind(this);this.pause=this.pause.bind(this);this.slowMotion=this.slowMotion.bind(this);this.addEvents=this.addEvents.bind(this);this.paused=true;this.slowmotion=false;this.initialised=false;var callbackNames=['onFloop','onStart','onPause','onPlay','onSlowmotion'];callbackNames.forEach(function(key){_this[key]=_this.options[key]});this.setCallbacks=this.setCallbacks.bind(this);if(this.options.autoPlay){this.init()}}_createClass(Flooper,[{key:'init',value:function init(){this.paused=false;this.initialised=true;this.addEvents();this.start();this.onStart()}},{key:'setCallbacks',value:function setCallbacks(obj){var self=this;_Object$keys(obj).map(function(cb){return self[cb]=obj[cb]})}},{key:'checkBlocks',value:function checkBlocks(){var self=this;var block=this.flooperItems[this.curBlock];var blockRect=block.getBoundingClientRect();var blockComputedStyle=window.getComputedStyle(block);var blockSpacings=parseInt(blockComputedStyle.marginLeft,10)+parseInt(blockComputedStyle.marginRight,10);var blockComputedWidth=blockRect.width+blockSpacings;var blockX=typeof blockRect.x==="undefined"?blockRect.left:blockRect.x;if(blockX< -(blockComputedWidth+this.bufferSize-this.flooperContainer.getBoundingClientRect().left)){block.style.order=this.order;block.style["-ms-flex-order"]=this.order;this.order+=1;this.left+=blockComputedWidth;this.curBlock+=1;if(this.curBlock>this.flooperItemsCount-1){this.curBlock=0}this.onFloop(block,self.order)}}},{key:'update',value:function update(){this.left-=this.speed;this.checkBlocks();this.flooper.style[Flooper.vendorTransformProp]='translateX('+this.left+'px)';if(!this.paused){requestAnimationFrame(this.update)}}},{key:'slowMotion',value:function slowMotion(){this.slowmotion=!this.slowmotion;if(this.slowmotion){this.speed=this.speed/2}else{this.speed=this.lastKnownSpeed}this.onSlowmotion()}},{key:'start',value:function start(){requestAnimationFrame(this.update)}},{key:'pause',value:function pause(){this.paused=true;this.onPause()}},{key:'play',value:function play(){if(!this.initialised){this.init()}else if(this.paused){this.paused=false;this.start();this.onPlay()}}},{key:'addEvents',value:function addEvents(){this.flooper.addEventListener('mouseenter',this.slowMotion,false);this.flooper.addEventListener('mouseleave',this.slowMotion,false)}},{key:'getState',value:function getState(){return{initialised:this.initialised,paused:this.paused,slowmotion:this.slowmotion,speed:this.speed}}}]);return Flooper})();module.exports=Flooper;}),(function(module,exports,__webpack_require__){"use strict";var _Object$defineProperty=__webpack_require__(2)["default"];exports["default"]=(function(){function defineProperties(target,props){for(var i=0;i<props.length;i+=1){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor){descriptor.writable=true}_Object$defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps){defineProperties(Constructor.prototype,protoProps)}if(staticProps){defineProperties(Constructor,staticProps)}return Constructor}})();exports.__esModule=true;}),(function(module,exports,__webpack_require__){module.exports={"default":__webpack_require__(3),__esModule:true};}),(function(module,exports,__webpack_require__){var $=__webpack_require__(4);module.exports=function defineProperty(it,key,desc){return $.setDesc(it,key,desc)};}),(function(module,exports){var $Object=Object;module.exports={create:$Object.create,getProto:$Object.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:$Object.getOwnPropertyDescriptor,setDesc:$Object.defineProperty,setDescs:$Object.defineProperties,getKeys:$Object.keys,getNames:$Object.getOwnPropertyNames,getSymbols:$Object.getOwnPropertySymbols,each:[].forEach};}),(function(module,exports){"use strict";exports["default"]=function(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}};exports.__esModule=true;}),(function(module,exports,__webpack_require__){"use strict";var _Object$assign=__webpack_require__(7)["default"];exports["default"]=_Object$assign||function(target){for(var i=1;i<arguments.length;i+=1){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};exports.__esModule=true;}),(function(module,exports,__webpack_require__){module.exports={"default":__webpack_require__(8),__esModule:true};}),(function(module,exports,__webpack_require__){__webpack_require__(9);module.exports=__webpack_require__(12).Object.assign;}),(function(module,exports,__webpack_require__){var $export=__webpack_require__(10);$export($export.S+$export.F,'Object',{assign:__webpack_require__(15)});}),(function(module,exports,__webpack_require__){var global=__webpack_require__(11),core=__webpack_require__(12),ctx=__webpack_require__(13),PROTOTYPE='prototype';var $export=function(type,name,source){var IS_FORCED=type&$export.F,IS_GLOBAL=type&$export.G,IS_STATIC=type&$export.S,IS_PROTO=type&$export.P,IS_BIND=type&$export.B,IS_WRAP=type&$export.W,exports=IS_GLOBAL?core:core[name]||(core[name]={}),target=IS_GLOBAL?global:IS_STATIC?global[name]:(global[name]||{})[PROTOTYPE],key,own,out;if(IS_GLOBAL){source=name}for(key in source){own=!IS_FORCED&&target&&key in target;if(own&&key in exports){continue}out=own?target[key]:source[key];exports[key]=IS_GLOBAL&&typeof target[key]!='function'?source[key]:IS_BIND&&own?ctx(out,global):IS_WRAP&&target[key]==out?(function(C){var F=function(param){return this instanceof C?new C(param):C(param)};F[PROTOTYPE]=C[PROTOTYPE];return F;})(out):IS_PROTO&&typeof out=='function'?ctx(Function.call,out):out;if(IS_PROTO){(exports[PROTOTYPE]||(exports[PROTOTYPE]={}))[key]=out}}};$export.F=1;$export.G=2;$export.S=4;$export.P=8;$export.B=16;$export.W=32;module.exports=$export;}),(function(module,exports){var global=module.exports=typeof window!='undefined'&&window.Math==Math?window:typeof self!='undefined'&&self.Math==Math?self:Function('return this')();if(typeof __g=='number'){__g=global;}}),(function(module,exports){var core=module.exports={version:'1.2.6'};if(typeof __e=='number'){__e=core;}}),(function(module,exports,__webpack_require__){var aFunction=__webpack_require__(14);module.exports=function(fn,that,length){aFunction(fn);if(that===undefined){return fn}switch(length){case 1:return function(a){return fn.call(that,a)};case 2:return function(a,b){return fn.call(that,a,b)};case 3:return function(a,b,c){return fn.call(that,a,b,c)}}return function(){return fn.apply(that,arguments)}};}),(function(module,exports){module.exports=function(it){if(typeof it!='function'){throw TypeError(it+' is not a function!')}return it};}),(function(module,exports,__webpack_require__){var $=__webpack_require__(4),toObject=__webpack_require__(16),IObject=__webpack_require__(18);module.exports=__webpack_require__(20)(function(){var a=Object.assign,A={},B={},S=Symbol(),K='abcdefghijklmnopqrst';A[S]=7;K.split('').forEach(function(k){B[k]=k});return a({},A)[S]!=7||Object.keys(a({},B)).join('')!=K})?function assign(target,source){var T=toObject(target),$$=arguments,$$len=$$.length,index=1,getKeys=$.getKeys,getSymbols=$.getSymbols,isEnum=$.isEnum;while($$len>index){var S=IObject($$[index++]),keys=getSymbols?getKeys(S).concat(getSymbols(S)):getKeys(S),length=keys.length,j=0,key;while(length>j){if(isEnum.call(S,key=keys[j++])){T[key]=S[key]}}}return T}:Object.assign;}),(function(module,exports,__webpack_require__){var defined=__webpack_require__(17);module.exports=function(it){return Object(defined(it))};}),(function(module,exports){module.exports=function(it){if(it==undefined){throw TypeError("Can't call method on  "+it)}return it};}),(function(module,exports,__webpack_require__){var cof=__webpack_require__(19);module.exports=Object('z').propertyIsEnumerable(0)?Object:function(it){return cof(it)=='String'?it.split(''):Object(it)};}),(function(module,exports){var toString={}.toString;module.exports=function(it){return toString.call(it).slice(8,-1)};}),(function(module,exports){module.exports=function(exec){try{return!!exec()}catch(e){return true}};}),(function(module,exports,__webpack_require__){module.exports={"default":__webpack_require__(22),__esModule:true};}),(function(module,exports,__webpack_require__){__webpack_require__(23);module.exports=__webpack_require__(12).Object.keys;}),(function(module,exports,__webpack_require__){var toObject=__webpack_require__(16);__webpack_require__(24)('keys',function($keys){return function keys(it){return $keys(toObject(it))}});}),(function(module,exports,__webpack_require__){var $export=__webpack_require__(10),core=__webpack_require__(12),fails=__webpack_require__(20);module.exports=function(KEY,exec){var fn=(core.Object||{})[KEY]||Object[KEY],exp={};exp[KEY]=exec(fn);$export($export.S+$export.F*fails(function(){fn(1)}),'Object',exp)};})])});;
//# sourceMappingURL=flooper.js.map
